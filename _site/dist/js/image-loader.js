(()=>{function a(e){return new Promise((o,r)=>{let s=new Image;s.onload=()=>o(s),s.onerror=r,s.src=e})}async function g(){try{await a("/salvium/images/newimages/Page%20Headers/Blog%20Header-320.webp");let o="/salvium/images/newimages/Page%20Headers/Blog%20Header-1024.webp";a(o).then(()=>{let r=document.querySelector(".blog-hero__image");r&&(r.src=o)})}catch(e){console.error("Error loading hero image:",e)}}async function m(){try{let e="/salvium/images/pools-320.webp";await a(e);let o="/salvium/images/pools-640.webp",r=document.querySelector(".cta-section img");r&&(r.src=e,a(o).then(()=>{r.src=o}))}catch(e){console.error("Error loading CTA background:",e)}}g();document.addEventListener("DOMContentLoaded",()=>{let e=new IntersectionObserver(s=>{s.forEach(c=>{c.isIntersecting&&(m(),e.disconnect())})},{rootMargin:"50px 0px",threshold:.01}),o=document.querySelector(".cta-section");o&&e.observe(o);let r=new IntersectionObserver(s=>{s.forEach(c=>{if(c.isIntersecting){let t=c.target,n=t.closest("picture");if(n){let i=n.querySelector("source");if(i){let l=i.srcset.split(",")[0].trim().split(" ")[0];a(l).then(()=>{t.classList.add("loaded")})}}else t.src=t.dataset.src,t.classList.add("loaded");r.unobserve(t)}})},{rootMargin:"50px 0px",threshold:.01});document.querySelectorAll('img[loading="lazy"]').forEach(s=>{r.observe(s)})});})();
